import{i as p,V as K,a as V,O as T,s as f,c as we,b as v,d as ze,g as ee,e as b,R as $,p as F,f as u,r as Ce,h as ke,o as te,j as Se,k as ge,l as E,m as O,n as D,q,t as M,u as De,P as G,v as U,A as Ee,w as x,x as N,y as ie,z as Me,B as Ie,C,D as Re,E as I,F as Ae,G as Fe,H as se,I as Te,J as qe,K as Ve}from"./B6eIXmQO.js";import{E as $e,l as Be}from"./zgVyzsTT.js";import"./Ceb3S_G-.js";import"./C9Z2uhaS.js";import"./DlAUqK2U.js";import"./DHLSiqob.js";class Le{constructor(){this.radius=0,this.mass=0}load(e){p(e)||(e.mass!==void 0&&(this.mass=e.mass),e.radius!==void 0&&(this.radius=e.radius))}}class Ue extends K{constructor(){super(),this.density=5,this.value=50,this.limit=new Le}load(e){p(e)||(super.load(e),e.density!==void 0&&(this.density=e.density),V(e.limit)?this.limit.radius=e.limit:this.limit.load(e.limit))}}class W{constructor(){this.color=new T,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new Ue}load(e){p(e)||(e.color!==void 0&&(this.color=T.create(this.color,e.color)),e.draggable!==void 0&&(this.draggable=e.draggable),this.name=e.name,e.opacity!==void 0&&(this.opacity=e.opacity),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=f(e.position.x)),e.position.y!==void 0&&(this.position.y=f(e.position.y))),e.size!==void 0&&this.size.load(e.size),e.destroy!==void 0&&(this.destroy=e.destroy),e.orbits!==void 0&&(this.orbits=e.orbits))}}var H;(function(s){s.absorber="absorber"})(H||(H={}));const Ge=2,We=.033,He=0,je=0,Je=0,Ke=0,Xe=2,ne=Math.PI*Xe,oe=0;class Qe{constructor(e,t,i,n,o){this._calcPosition=()=>{const r=we({size:this._container.canvas.size,position:this.options.position});return v.create(r.x,r.y)},this._updateParticlePosition=(r,l)=>{if(r.destroyed)return;const h=this._container,d=h.canvas.size;if(r.needsNewPosition){const c=ze({size:d});r.position.setTo(c),r.velocity.setTo(r.initialVelocity),r.absorberOrbit=void 0,r.needsNewPosition=!1}if(this.options.orbits){if(r.absorberOrbit===void 0&&(r.absorberOrbit=v.origin,r.absorberOrbit.length=ee(r.getPosition(),this.position),r.absorberOrbit.angle=b()*ne),r.absorberOrbit.length<=this.size&&!this.options.destroy){const g=Math.min(d.width,d.height),k=1,X=.1,Q=.2;r.absorberOrbit.length=g*(k+(b()*Q-X))}r.absorberOrbitDirection===void 0&&(r.absorberOrbitDirection=r.velocity.x>=oe?$.clockwise:$.counterClockwise);const c=r.absorberOrbit.length,w=r.absorberOrbit.angle,m=r.absorberOrbitDirection;r.velocity.setTo(v.origin);const y={x:m===$.clockwise?Math.cos:Math.sin,y:m===$.clockwise?Math.sin:Math.cos};r.position.x=this.position.x+c*y.x(w),r.position.y=this.position.y+c*y.y(w),r.absorberOrbit.length-=l.length,r.absorberOrbit.angle+=(r.retina.moveSpeed??oe)*h.retina.pixelRatio/F*h.retina.reduceFactor}else{const c=v.origin;c.length=l.length,c.angle=l.angle,r.velocity.addTo(c)}},this._absorbers=e,this._container=t,this._engine=i,this.initialPosition=o?v.create(o.x,o.y):void 0,n instanceof W?this.options=n:(this.options=new W,this.options.load(n)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=u(this.options.size.value)*t.retina.pixelRatio,this.mass=this.size*this.options.size.density*t.retina.reduceFactor;const a=this.options.size.limit;this.limit={radius:a.radius*t.retina.pixelRatio*t.retina.reduceFactor,mass:a.mass},this.color=Ce(this._engine,this.options.color)??{b:0,g:0,r:0},this.position=this.initialPosition?.copy()??this._calcPosition()}attract(e){const t=this._container,i=this.options;if(i.draggable){const h=t.interactivity.mouse;h.clicking&&h.downPosition?ee(this.position,h.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&h.position&&(this.position.x=h.position.x,this.position.y=h.position.y)}const n=e.getPosition(),{dx:o,dy:a,distance:r}=ke(this.position,n),l=v.create(o,a);if(l.length=this.mass/Math.pow(r,Ge)*t.retina.reduceFactor,r<this.size+e.getRadius()){const h=e.getRadius()*We*t.retina.pixelRatio;this.size>e.getRadius()&&r<this.size-e.getRadius()||e.absorberOrbit!==void 0&&e.absorberOrbit.length<He?i.destroy?e.destroy():(e.needsNewPosition=!0,this._updateParticlePosition(e,l)):(i.destroy&&(e.size.value-=h),this._updateParticlePosition(e,l)),(this.limit.radius<=je||this.size<this.limit.radius)&&(this.size+=h),(this.limit.mass<=Je||this.mass<this.limit.mass)&&(this.mass+=h*this.options.size.density*t.retina.reduceFactor)}else this._updateParticlePosition(e,l)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(te.x,te.y,this.size,Ke,ne,!1),e.closePath(),e.fillStyle=Se(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&ge(e,this._container.canvas.size,v.origin)?e:this._calcPosition()}}const re=0;class Ye{constructor(e,t){this._container=e,this._engine=t,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=i=>i===void 0||V(i)?this.array[i??re]:this.array.find(n=>n.name===i),e.addAbsorber=async(i,n)=>this.addAbsorber(i,n)}async addAbsorber(e,t){const i=new Qe(this,this._container,this._engine,e,t);return this.array.push(i),Promise.resolve(i)}draw(e){for(const t of this.array)t.draw(e)}handleClickMode(e){const t=this.absorbers,i=this.interactivityAbsorbers;if(e===H.absorber){const n=E(i),o=n??E(t),a=this._container.interactivity.mouse.clickPosition;this.addAbsorber(o,a)}}async init(){this.absorbers=this._container.actualOptions.absorbers,this.interactivityAbsorbers=this._container.actualOptions.interactivity.modes.absorbers;const e=O(this.absorbers,async t=>{await this.addAbsorber(t)});e instanceof Array?await Promise.all(e):await e}particleUpdate(e){for(const t of this.array)if(t.attract(e),e.destroyed)break}removeAbsorber(e){const t=this.array.indexOf(e);t>=re&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class Ze{constructor(e){this.id="absorbers",this._engine=e}async getPlugin(e){return Promise.resolve(new Ye(e,this._engine))}loadOptions(e,t){!this.needsPlugin(e)&&!this.needsPlugin(t)||(t?.absorbers&&(e.absorbers=O(t.absorbers,i=>{const n=new W;return n.load(i),n})),e.interactivity.modes.absorbers=O(t?.interactivity?.modes?.absorbers,i=>{const n=new W;return n.load(i),n}))}needsPlugin(e){if(!e)return!1;const t=e.absorbers;return D(t)?!!t.length:t?!0:!!(e.interactivity?.events?.onClick?.mode&&q(H.absorber,e.interactivity.events.onClick.mode))}}async function Ne(s,e=!0){s.checkVersion("3.9.1"),await s.addPlugin(new Ze(s),e)}class et{load(e){p(e)||(e.bottom!==void 0&&(this.bottom=f(e.bottom)),e.left!==void 0&&(this.left=f(e.left)),e.right!==void 0&&(this.right=f(e.right)),e.top!==void 0&&(this.top=f(e.top)))}}var j;(function(s){s.none="none",s.split="split"})(j||(j={}));class tt extends K{constructor(){super(),this.value=3}}class it extends K{constructor(){super(),this.value={min:4,max:9}}}class st{constructor(){this.count=1,this.factor=new tt,this.rate=new it,this.sizeOffset=!0}load(e){p(e)||(e.color!==void 0&&(this.color=T.create(this.color,e.color)),e.count!==void 0&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=O(e.particles,t=>M({},t)),e.sizeOffset!==void 0&&(this.sizeOffset=e.sizeOffset),e.colorOffset&&(this.colorOffset=this.colorOffset??{},e.colorOffset.h!==void 0&&(this.colorOffset.h=e.colorOffset.h),e.colorOffset.s!==void 0&&(this.colorOffset.s=e.colorOffset.s),e.colorOffset.l!==void 0&&(this.colorOffset.l=e.colorOffset.l)))}}class nt{constructor(){this.bounds=new et,this.mode=j.none,this.split=new st}load(e){p(e)||(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}const B=0,ot=.5,rt=0,at=1,lt=500,ht=0;function ct(s,e,t,i){const n=t.options.destroy;if(!n)return;const o=n.split,a=De(s,e,t.options),r=u(o.factor.value),l=t.getFillColor();o.color?a.color.load(o.color):o.colorOffset&&l?a.color.load({value:{hsl:{h:l.h+u(o.colorOffset.h??B),s:l.s+u(o.colorOffset.s??B),l:l.l+u(o.colorOffset.l??B)}}}):a.color.load({value:{hsl:t.getFillColor()}}),a.move.load({center:{x:t.position.x,y:t.position.y,mode:G.precise}}),V(a.size.value)?a.size.value/=r:(a.size.value.min/=r,a.size.value.max/=r),a.load(i);const h=o.sizeOffset?f(-t.size.value,t.size.value):B,d={x:t.position.x+U(h),y:t.position.y+U(h)};return e.particles.addParticle(d,a,t.group,c=>c.size.value<ot?!1:(c.velocity.length=U(f(t.velocity.length,c.velocity.length)),c.splitCount=(t.splitCount??rt)+at,c.unbreakable=!0,setTimeout(()=>{c.unbreakable=!1},lt),!0))}function dt(s,e,t){const i=t.options.destroy;if(!i)return;const n=i.split;if(n.count>=ht&&(t.splitCount===void 0||t.splitCount++>n.count))return;const o=u(n.rate.value),a=E(n.particles);for(let r=0;r<o;r++)ct(s,e,t,a)}class ut{constructor(e,t){this.container=t,this.engine=e}init(e){const t=this.container,i=e.options,n=i.destroy;if(!n)return;e.splitCount=0;const o=n.bounds;e.destroyBounds||(e.destroyBounds={});const{bottom:a,left:r,right:l,top:h}=o,{destroyBounds:d}=e,c=t.canvas.size;a&&(d.bottom=u(a)*c.height/F),r&&(d.left=u(r)*c.width/F),l&&(d.right=u(l)*c.width/F),h&&(d.top=u(h)*c.height/F)}isEnabled(e){return!e.destroyed}loadOptions(e,...t){e.destroy||(e.destroy=new nt);for(const i of t)e.destroy.load(i?.destroy)}particleDestroyed(e,t){if(t)return;const i=e.options.destroy;i&&i.mode===j.split&&dt(this.engine,this.container,e)}update(e){if(!this.isEnabled(e))return;const t=e.getPosition(),i=e.destroyBounds;i&&(i.bottom!==void 0&&t.y>=i.bottom||i.left!==void 0&&t.x<=i.left||i.right!==void 0&&t.x>=i.right||i.top!==void 0&&t.y<=i.top)&&e.destroy()}}async function ft(s,e=!0){s.checkVersion("3.9.1"),await s.addParticleUpdater("destroy",t=>Promise.resolve(new ut(s,t)),e)}class pt{constructor(){this.wait=!1}load(e){p(e)||(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=f(e.delay)),e.duration!==void 0&&(this.duration=f(e.duration)),e.wait!==void 0&&(this.wait=e.wait))}}class mt{constructor(){this.quantity=1,this.delay=.1}load(e){p(e)||(e.quantity!==void 0&&(this.quantity=f(e.quantity)),e.delay!==void 0&&(this.delay=f(e.delay)))}}class yt{constructor(){this.color=!1,this.opacity=!1}load(e){p(e)||(e.color!==void 0&&(this.color=e.color),e.opacity!==void 0&&(this.opacity=e.opacity))}}class bt{constructor(){this.options={},this.replace=new yt,this.type="square"}load(e){p(e)||(e.options!==void 0&&(this.options=M({},e.options??{})),this.replace.load(e.replace),e.type!==void 0&&(this.type=e.type))}}class ve{constructor(){this.mode=G.percent,this.height=0,this.width=0}load(e){p(e)||(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class _{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new pt,this.rate=new mt,this.shape=new bt,this.startCount=0}load(e){p(e)||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size||(this.size=new ve),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=O(e.particles,t=>M({},t)),this.rate.load(e.rate),this.shape.load(e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=f(e.position.x)),e.position.y!==void 0&&(this.position.y=f(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new Ee),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}var J;(function(s){s.emitter="emitter"})(J||(J={}));const ae=.5,le=0,L=0,he=0,wt=0,gt=-1,vt=1;function ce(s,e){s.color?s.color.value=e:s.color={value:e}}class _t{constructor(e,t,i,n,o){this.emitters=t,this.container=i,this._destroy=()=>{this._mutationObserver?.disconnect(),this._mutationObserver=void 0,this._resizeObserver?.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{if(this._paused)return;const h=this.options.life?.duration!==void 0?u(this.options.life.duration):void 0;(this._lifeCount>0||this._immortal)&&h!==void 0&&h>0&&(this._duration=h*x)},this._setColorAnimation=(h,d,c,w=vt)=>{const m=this.container;if(!h.enable)return d;const y=U(h.offset),g=u(this.options.rate.delay),k=m.retina.reduceFactor?g*x/m.retina.reduceFactor:1/0,X=0,Q=u(h.speed??X);return(d+Q*m.fpsLimit/k+y*w)%c},this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=o,n instanceof _?this.options=n:(this.options=new _,this.options.load(n)),this._spawnDelay=i.retina.reduceFactor?u(this.options.life.delay??le)*x/i.retina.reduceFactor:1/0,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let a=M({},this.options.particles);if(a??={},a.move??={},a.move.direction??=this.options.direction,this.options.spawnColor&&(this.spawnColor=N(this._engine,this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=a,this._size=this._calcSize(),this.size=ie(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??gt,this._immortal=this._lifeCount<=L,this.options.domId){const h=document.getElementById(this.options.domId);h&&(this._mutationObserver=new MutationObserver(()=>{this.resize()}),this._resizeObserver=new ResizeObserver(()=>{this.resize()}),this._mutationObserver.observe(h,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(h))}const r=this.options.shape,l=this._engine.emitterShapeManager?.getShapeGenerator(r.type);l&&(this._shape=l.generate(this.position,this.size,this.fill,r.options)),this._engine.dispatchEvent("emitterCreated",{container:i,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){await this._shape?.init()}pause(){this._paused||delete this._emitDelay}play(){if(this._paused||!((this._lifeCount>L||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??he))))return;const e=this.container;if(this._emitDelay===void 0){const t=u(this.options.rate.delay);this._emitDelay=e.retina.reduceFactor?t*x/e.retina.reduceFactor:1/0}(this._lifeCount>L||this._immortal)&&this._prepareToDie()}resize(){const e=this._initialPosition,t=this.container;this.position=e&&ge(e,t.canvas.size,v.origin)?e:this._calcPosition(),this._size=this._calcSize(),this.size=ie(this._size,t.canvas.size),this._shape?.resize(this.position,this.size)}update(e){if(this._paused)return;const t=this.container;this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??he,this._currentEmitDelay=this._emitDelay??wt),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>L||this._immortal?(this.position=this._calcPosition(),this._shape?.resize(this.position,this.size),this._spawnDelay=t.retina.reduceFactor?u(this.options.life.delay??le)*x/t.retina.reduceFactor:1/0):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay))}_calcPosition(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect(),n=e.retina.pixelRatio;return{x:(i.x+i.width*ae)*n,y:(i.y+i.height*ae)*n}}}return we({size:e.canvas.size,position:this.options.position})}_calcSize(){const e=this.container;if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const i=t.getBoundingClientRect();return{width:i.width*e.retina.pixelRatio,height:i.height*e.retina.pixelRatio,mode:G.precise}}}return this.options.size??(()=>{const t=new ve;return t.load({height:0,mode:G.percent,width:0}),t})()}_emit(){if(this._paused)return;const e=u(this.options.rate.quantity);this._emitParticles(e)}_emitParticles(e){const t=E(this._particlesOptions),i=this.container.retina.reduceFactor;for(let n=0;n<e*i;n++){const o=M({},t);if(this.spawnColor){const l=this.options.spawnColor?.animation;if(l){const h={h:360,s:100,l:100},d=3.6;this.spawnColor.h=this._setColorAnimation(l.h,this.spawnColor.h,h.h,d),this.spawnColor.s=this._setColorAnimation(l.s,this.spawnColor.s,h.s),this.spawnColor.l=this._setColorAnimation(l.l,this.spawnColor.l,h.l)}ce(o,this.spawnColor)}const a=this.options.shape;let r=this.position;if(this._shape){const l=this._shape.randomPosition();if(l){r=l.position;const h=a.replace;h.color&&l.color&&ce(o,l.color),h.opacity&&(o.opacity?o.opacity.value=l.opacity:o.opacity={value:l.opacity})}else r=null}r&&this.container.particles.addParticle(r,o)}}}class Pt{constructor(e,t){this.container=t,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};const i=0;t.getEmitter=n=>n===void 0||V(n)?this.array[n??i]:this.array.find(o=>o.name===n),t.addEmitter=async(n,o)=>this.addEmitter(n,o),t.removeEmitter=n=>{const o=t.getEmitter(n);o&&this.removeEmitter(o)},t.playEmitter=n=>{const o=t.getEmitter(n);o&&o.externalPlay()},t.pauseEmitter=n=>{const o=t.getEmitter(n);o&&o.externalPause()}}async addEmitter(e,t){const i=new _;i.load(e);const n=new _t(this._engine,this,this.container,i,t);return await n.init(),this.array.push(n),n}handleClickMode(e){const t=this.emitters,i=this.interactivityEmitters;if(e!==J.emitter)return;let n;if(i&&D(i.value))if(i.value.length>0&&i.random.enable){n=[];const l=[];for(let h=0;h<i.random.count;h++){const d=Me(i.value);if(l.includes(d)&&l.length<i.value.length){h--;continue}l.push(d),n.push(Ie(i.value,d))}}else n=i.value;else n=i?.value;const o=n??t,a=this.container.interactivity.mouse.clickPosition;O(o,async r=>{await this.addEmitter(r,a)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(D(this.emitters))for(const e of this.emitters)await this.addEmitter(e);else await this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const t=this.array.indexOf(e);t>=0&&this.array.splice(t,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const t of this.array)t.update(e)}}class Ot{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return Promise.resolve(new Pt(this._engine,e))}loadOptions(e,t){if(!this.needsPlugin(e)&&!this.needsPlugin(t))return;t?.emitters&&(e.emitters=O(t.emitters,n=>{const o=new _;return o.load(n),o}));const i=t?.interactivity?.modes?.emitters;if(i)if(D(i))e.interactivity.modes.emitters={random:{count:1,enable:!0},value:i.map(n=>{const o=new _;return o.load(n),o})};else{const n=i;if(n.value!==void 0)if(D(n.value))e.interactivity.modes.emitters={random:{count:n.random.count??1,enable:n.random.enable??!1},value:n.value.map(a=>{const r=new _;return r.load(a),r})};else{const a=new _;a.load(n.value),e.interactivity.modes.emitters={random:{count:n.random.count??1,enable:n.random.enable??!1},value:a}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new _}).value.load(i)}}needsPlugin(e){if(!e)return!1;const t=e.emitters;return D(t)&&!!t.length||t!==void 0||!!e.interactivity?.events?.onClick?.mode&&q(J.emitter,e.interactivity.events.onClick.mode)}}const Y=new Map;class xt{constructor(e){this._engine=e}addShapeGenerator(e,t){this.getShapeGenerator(e)||Y.set(e,t)}getShapeGenerator(e){return Y.get(e)}getSupportedShapeGenerators(){return Y.keys()}}class _e{constructor(e,t,i,n){this.position=e,this.size=t,this.fill=i,this.options=n}resize(e,t){this.position=e,this.size=t}}async function zt(s,e=!0){s.checkVersion("3.9.1"),s.emitterShapeManager||(s.emitterShapeManager=new xt(s)),s.addEmitterShapeGenerator||(s.addEmitterShapeGenerator=(i,n)=>{s.emitterShapeManager?.addShapeGenerator(i,n)});const t=new Ot(s);await s.addPlugin(t,e)}const R=.25,Z=2,Ct=Math.PI*Z,de=2,ue=.5;class kt extends _e{constructor(e,t,i,n){super(e,t,i,n)}async init(){}randomPosition(){const e=this.size,t=this.fill,i=this.position,n=(c,w)=>{const m=b()*R,y=Math.atan(w/c*Math.tan(Ct*m)),g=b();return g<R?y:g<Z*R?Math.PI-y:g<Z*R+R?Math.PI+y:-y},o=(c,w,m)=>c*w/Math.sqrt((w*Math.cos(m))**de+(c*Math.sin(m))**de),[a,r]=[e.width*ue,e.height*ue],l=n(a,r),h=o(a,r,l),d=t?h*Math.sqrt(b()):h;return{position:{x:i.x+d*Math.cos(l),y:i.y+d*Math.sin(l)}}}}class St{generate(e,t,i,n){return new kt(e,t,i,n)}}async function Dt(s,e=!0){const t=s;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("circle",new St),await t.refresh(e)}const Et=4;var S;(function(s){s[s.TopLeft=0]="TopLeft",s[s.TopRight=1]="TopRight",s[s.BottomRight=2]="BottomRight",s[s.BottomLeft=3]="BottomLeft"})(S||(S={}));function fe(s,e){return s+e*(b()-C)}class Mt extends _e{constructor(e,t,i,n){super(e,t,i,n)}async init(){}randomPosition(){const e=this.fill,t=this.position,i=this.size;if(e)return{position:{x:fe(t.x,i.width),y:fe(t.y,i.height)}};{const n=i.width*C,o=i.height*C,a=Math.floor(b()*Et),r=(b()-C)*Re;switch(a){case S.TopLeft:return{position:{x:t.x+r*n,y:t.y-o}};case S.TopRight:return{position:{x:t.x-n,y:t.y+r*o}};case S.BottomRight:return{position:{x:t.x+r*n,y:t.y+o}};case S.BottomLeft:default:return{position:{x:t.x+n,y:t.y+r*o}}}}}}class It{generate(e,t,i,n){return new Mt(e,t,i,n)}}async function Rt(s,e=!0){const t=s;t.checkVersion("3.9.1"),t.addEmitterShapeGenerator?.("square",new It),await t.refresh(e)}class At{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){p(e)||(e.delay!==void 0&&(this.delay=e.delay),e.quantity!==void 0&&(this.quantity=e.quantity),e.particles!==void 0&&(this.particles=M({},e.particles)),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop))}}const pe="trail";class Ft extends $e{constructor(e){super(e),this._delay=0}clear(){}init(){}interact(e){const t=this.container,{interactivity:i}=t;if(!t.retina.reduceFactor)return;const n=t.actualOptions,o=n.interactivity.modes.trail;if(!o)return;const a=o.delay*x/this.container.retina.reduceFactor;if(this._delay<a&&(this._delay+=e.value),this._delay<a)return;const r=!(o.pauseOnStop&&(i.mouse.position===this._lastPosition||i.mouse.position?.x===this._lastPosition?.x&&i.mouse.position?.y===this._lastPosition?.y)),l=t.interactivity.mouse.position;l?this._lastPosition={...l}:delete this._lastPosition,r&&t.particles.push(o.quantity,t.interactivity.mouse,o.particles),this._delay-=a}isEnabled(e){const t=this.container,i=t.actualOptions,n=t.interactivity.mouse,o=(e?.interactivity??i.interactivity).events;return n.clicking&&n.inside&&!!n.position&&q(pe,o.onClick.mode)||n.inside&&!!n.position&&q(pe,o.onHover.mode)}loadModeOptions(e,...t){e.trail||(e.trail=new At);for(const i of t)e.trail.load(i?.trail)}reset(){}}async function Tt(s,e=!0){s.checkVersion("3.9.1"),await s.addInteractor("externalTrail",t=>Promise.resolve(new Ft(t)),e)}var z;(function(s){s.both="both",s.horizontal="horizontal",s.vertical="vertical"})(z||(z={}));const qt=2,Pe=Math.PI*qt,Vt=360;function $t(s,e){const t=e.options.roll;if(!t?.enable){e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0};return}if(e.roll={enable:t.enable,horizontal:t.mode===z.horizontal||t.mode===z.both,vertical:t.mode===z.vertical||t.mode===z.both,angle:b()*Pe,speed:u(t.speed)/Vt},t.backColor)e.backColor=N(s,t.backColor);else if(t.darken.enable&&t.enlighten.enable){const i=b()>=C?I.darken:I.enlighten;e.roll.alter={type:i,value:u(i===I.darken?t.darken.value:t.enlighten.value)}}else t.darken.enable?e.roll.alter={type:I.darken,value:u(t.darken.value)}:t.enlighten.enable&&(e.roll.alter={type:I.enlighten,value:u(t.enlighten.value)})}function Bt(s,e){const t=s.options.roll,i=s.roll;if(!i||!t?.enable)return;const n=i.speed*e.factor,o=Pe;i.angle+=n,i.angle>o&&(i.angle-=o)}class me{constructor(){this.enable=!1,this.value=0}load(e){p(e)||(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=f(e.value)))}}class Lt{constructor(){this.darken=new me,this.enable=!1,this.enlighten=new me,this.mode=z.vertical,this.speed=25}load(e){p(e)||(e.backColor!==void 0&&(this.backColor=T.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=f(e.speed)))}}class Ut{constructor(e){this._engine=e}getTransformValues(e){const t=e.roll?.enable&&e.roll,i=t&&t.horizontal,n=t&&t.vertical;return{a:i?Math.cos(t.angle):void 0,d:n?Math.sin(t.angle):void 0}}init(e){$t(this._engine,e)}isEnabled(e){const t=e.options.roll;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.roll||(e.roll=new Lt);for(const i of t)e.roll.load(i?.roll)}update(e,t){this.isEnabled(e)&&Bt(e,t)}}async function Gt(s,e=!0){s.checkVersion("3.9.1"),await s.addParticleUpdater("roll",()=>Promise.resolve(new Ut(s)),e)}const Oe=2,ye=.5;function Wt(s){const{context:e,particle:t,radius:i,opacity:n}=s,o=t.shapeData;if(!o)return;const a=o.value;if(a===void 0)return;t.text===void 0&&(t.text=E(a,t.randomIndexData));const r=t.text,l=o.style??"",h=o.weight??"400",d=Math.round(i)*Oe,c=o.font??"Verdana",w=t.shapeFill,m=r?.split(`
`);if(m){e.font=`${l} ${h} ${d}px "${c}"`,e.globalAlpha=n;for(let y=0;y<m.length;y++)Ht(e,m[y],i,n,y,w);e.globalAlpha=1}}function Ht(s,e,t,i,n,o){const a=e.length*t*ye,r={x:-a,y:t*ye},l=t*Oe;o?s.fillText(e,r.x,r.y+l*n):s.strokeText(e,r.x,r.y+l*n)}class jt{constructor(){this.validTypes=["text","character","char","multiline-text"]}draw(e){Wt(e)}async init(e){const t=e.actualOptions,{validTypes:i}=this;if(i.find(n=>q(n,t.particles.shape.type))){const n=i.map(a=>t.particles.shape.options[a]).find(a=>!!a),o=[];O(n,a=>{o.push(Ae(a.font,a.weight))}),await Promise.all(o)}}particleInit(e,t){if(!t.shape||!this.validTypes.includes(t.shape))return;const i=t.shapeData;if(i===void 0)return;const n=i.value;n!==void 0&&(t.text=E(n,t.randomIndexData))}}async function Jt(s,e=!0){s.checkVersion("3.9.1"),await s.addShape(new jt,e)}var P;(function(s){s.clockwise="clockwise",s.counterClockwise="counter-clockwise",s.random="random"})(P||(P={}));class Kt{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){p(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=f(e.speed)),e.decay!==void 0&&(this.decay=f(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Xt extends K{constructor(){super(),this.animation=new Kt,this.direction=P.clockwise,this.enable=!1,this.value=0}load(e){super.load(e),!p(e)&&(this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}const A=1,xe=2,Qt=Math.PI*xe,Yt=360;class Zt{constructor(e){this.container=e}getTransformValues(e){const t=e.tilt?.enable&&e.tilt;return{b:t?Math.cos(t.value)*t.cosDirection:void 0,c:t?Math.sin(t.value)*t.sinDirection:void 0}}init(e){const t=e.options.tilt;if(!t)return;e.tilt={enable:t.enable,value:Fe(u(t.value)),sinDirection:b()>=C?A:-A,cosDirection:b()>=C?A:-A,min:0,max:Qt};let i=t.direction;switch(i===P.random&&(i=Math.floor(b()*xe)>0?P.counterClockwise:P.clockwise),i){case P.counterClockwise:case"counterClockwise":e.tilt.status=se.decreasing;break;case P.clockwise:e.tilt.status=se.increasing;break}const n=e.options.tilt?.animation;n?.enable&&(e.tilt.decay=A-u(n.decay),e.tilt.velocity=u(n.speed)/Yt*this.container.retina.reduceFactor,n.sync||(e.tilt.velocity*=b()))}isEnabled(e){const t=e.options.tilt?.animation;return!e.destroyed&&!e.spawning&&!!t?.enable}loadOptions(e,...t){e.tilt||(e.tilt=new Xt);for(const i of t)e.tilt.load(i?.tilt)}async update(e,t){!this.isEnabled(e)||!e.tilt||(Te(e,e.tilt,!1,qe.none,t),await Promise.resolve())}}async function Nt(s,e=!0){s.checkVersion("3.9.1"),await s.addParticleUpdater("tilt",t=>Promise.resolve(new Zt(t)),e)}class be{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){p(e)||(e.color!==void 0&&(this.color=T.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=f(e.opacity)))}}class ei{constructor(){this.lines=new be,this.particles=new be}load(e){p(e)||(this.lines.load(e.lines),this.particles.load(e.particles))}}class ti{constructor(e){this._engine=e}getColorStyles(e,t,i,n){const o=e.options,a=o.twinkle;if(!a)return{};const r=a.particles,l=r.enable&&b()<r.frequency,h=e.options.zIndex,d=1,c=(d-e.zIndexFactor)**h.opacityRate,w=l?u(r.opacity)*c:n,m=N(this._engine,r.color),y=m?Ve(m,w):void 0,g={},k=l&&y;return g.fill=k?y:void 0,g.stroke=k?y:void 0,g}async init(){await Promise.resolve()}isEnabled(e){const t=e.options,i=t.twinkle;return i?i.particles.enable:!1}loadOptions(e,...t){e.twinkle||(e.twinkle=new ei);for(const i of t)e.twinkle.load(i?.twinkle)}async update(){await Promise.resolve()}}async function ii(s,e=!0){s.checkVersion("3.9.1"),await s.addParticleUpdater("twinkle",()=>Promise.resolve(new ti(s)),e)}class si{constructor(){this.angle=50,this.move=10}load(e){p(e)||(e.angle!==void 0&&(this.angle=f(e.angle)),e.move!==void 0&&(this.move=f(e.move)))}}class ni{constructor(){this.distance=5,this.enable=!1,this.speed=new si}load(e){if(!p(e)&&(e.distance!==void 0&&(this.distance=f(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0))if(V(e.speed))this.speed.load({angle:e.speed});else{const t=e.speed;t.min!==void 0?this.speed.load({angle:t}):this.speed.load(e.speed)}}}const oi=0,ri=2,ai=Math.PI*ri,li=60;function hi(s,e){const{wobble:t}=s.options,{container:i,wobble:n}=s;if(!t?.enable||!n)return;const o=i.retina.reduceFactor,a=n.angleSpeed*e.factor*o,r=n.moveSpeed*e.factor*o,l=r*(s.retina.wobbleDistance??oi)/(x/li),h=ai,{position:d}=s;n.angle+=a,n.angle>h&&(n.angle-=h),d.x+=l*Math.cos(n.angle),d.y+=l*Math.abs(Math.sin(n.angle))}const ci=2,di=Math.PI*ci,ui=360,fi=10,pi=0;class mi{constructor(e){this.container=e}init(e){const t=e.options.wobble;t?.enable?e.wobble={angle:b()*di,angleSpeed:u(t.speed.angle)/ui,moveSpeed:u(t.speed.move)/fi}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=u(t?.distance??pi)*this.container.retina.pixelRatio}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.options.wobble?.enable}loadOptions(e,...t){e.wobble||(e.wobble=new ni);for(const i of t)e.wobble.load(i?.wobble)}update(e,t){this.isEnabled(e)&&hi(e,t)}}async function yi(s,e=!0){s.checkVersion("3.9.1"),await s.addParticleUpdater("wobble",t=>Promise.resolve(new mi(t)),e)}async function Oi(s,e=!0){s.checkVersion("3.9.1"),await ft(s,!1),await Gt(s,!1),await Nt(s,!1),await ii(s,!1),await yi(s,!1),await Jt(s,!1),await Tt(s,!1),await Ne(s,!1),await zt(s,!1),await Dt(s,!1),await Rt(s,!1),await Be(s,e)}export{Oi as loadFull};
